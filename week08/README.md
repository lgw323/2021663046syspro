# 📝 8주차 학습 정리

## 📅 날짜
- 2025-04-25

## 📌 주제
- 중간고사 시험 및 풀이

---

## 🛠️ 중간고사 시험 문제 및 풀이

### 🔹 문제 1: `man` 명령어의 섹션 조회
**Q: 리눅스에서 `open`이라는 이름을 가진 항목은 `man` 명령어로 조회했을 때 두 개 이상의 결과가 나올 수 있다. 이러한 경우 `man` 명령어는 어떤 방식으로 결과를 처리하며, 특정 섹션을 명시해서 원하는 정보를 보는 방법을 서술하시오.**

> `man` 명령어는 미리 정의된 순서대로 섹션을 검색하여 가장 먼저 찾은 매뉴얼 페이지를 보여줍니다. 예를 들어, `man open`은 기본적으로 섹션 1(사용자 명령어)의 매뉴얼을 보여줍니다. 특정 섹션의 내용을 보고 싶으면 `man [섹션번호] [명령어]` 형식으로 사용하면 됩니다. (예: `man 2 open`은 시스템 호출에 대한 매뉴얼을 보여줌)

### 🔹 문제 2: 도움말 명령어 비교
**Q: `man`, `--help`, `info`, `whatis`, `apropos`는 모두 리눅스에서 명령어 사용법을 알려주는 도구다. 이 다섯 명령어의 사용성과 정보 구성 방식에서의 차이점을 서술하시오.**

> - **`man`**: 명령어/함수의 설명, 옵션, 사용법 등 가장 자세하고 공식적인 매뉴얼 페이지를 보여줍니다.
> - **`--help`**: 해당 명령어의 간단한 사용법과 자주 쓰는 옵션 위주로 터미널에 간결하게 출력합니다.
> - **`info`**: `man`보다 더 구조화된 하이퍼링크 형식의 문서를 제공하여, 더 상세하고 단계별 학습이 가능합니다.
> - **`whatis`**: 검색한 명령어가 무엇인지 한 줄로 요약해줍니다.
> - **`apropos`**: 입력한 키워드가 포함된 모든 매뉴얼 항목을 찾아 목록을 보여줍니다.

### 🔹 문제 3: 루트 디렉토리(/)의 하위 디렉토리 역할
**Q: 리눅스 시스템에서 루트 디렉토리(/)는 다양한 하위 디렉토리를 포함하고 있으며, 각각은 특정 역할을 가진다. 주요 디렉토리의 목적과 내용을 서술하시오.**

> - **/bin**: 사용자를 위한 기본적인 명령어들이 위치합니다.
> - **/sbin**: 시스템 관리자용 필수 명령어들이 위치합니다.
> - **/etc**: 시스템 전체의 환경 설정 파일들이 저장됩니다.
> - **/home**: 일반 사용자들의 홈 디렉토리가 생성되는 공간입니다.
> - **/root**: 시스템 관리자(root)의 홈 디렉토리입니다.
> - **/lib**: 프로그램 실행에 필요한 핵심 공유 라이브러리 파일들이 있습니다.
> - **/tmp**: 임시 파일들이 저장되는 공간으로, 재부팅 시 내용이 삭제될 수 있습니다.
> - **/var**: 로그, 메일 등 시스템 운영 중 수시로 내용이 변경되는 가변 데이터를 저장합니다.
> - **/dev**: 시스템의 장치(하드디스크, 마우스 등)를 파일 형태로 관리합니다.
> - **/usr**: 사용자들이 사용하는 대부분의 프로그램, 라이브러리, 문서 등이 설치됩니다.

### 🔹 문제 4: 리눅스 부팅 필수 디렉토리 및 파일
**Q: 리눅스 시스템이 부팅되는 과정에서 반드시 필요한 디렉토리 구조와 파일은 어떤 것들이 있으며, 이들이 어떤 역할을 수행하는지 설명하시오.**

> - **/boot**: 리눅스 커널 이미지(vmlinuz)와 부트로더(GRUB 등) 관련 파일들이 저장되어 운영체제 시작을 담당하는 핵심적인 역할을 합니다.
> - **/etc**: 시스템 초기화 스크립트(init)와 네트워크 설정 등 시스템 전반의 환경 설정 파일들을 담고 있어, 부팅 시 시스템의 기본 동작 방식을 결정합니다.
> - **/bin**, **/sbin**: 시스템 부팅 및 복구에 필요한 최소한의 필수 명령어들을 담고 있어, 기본적인 시스템 사용 및 관리를 가능하게 합니다.
> - **/lib**: 부팅 과정에 필요한 프로그램들을 실행시키기 위한 핵심 공유 라이브러리들을 제공합니다.

### 🔹 문제 5: `vi` 에디터 검색 및 교체
**Q: `vi`에서 텍스트를 검색하고, 찾은 단어를 교체하는 방법에 대해 서술하시오. (텍스트 파일에서 "apple"이라는 단어를 검색하고, 파일 내의 모든 "apple"을 "orange"로 교체하는 명령어 예시 포함)**

> 1.  **검색**: 명령 모드에서 `/apple`을 입력하고 Enter를 누르면 "apple"이라는 단어를 순방향으로 검색합니다. `n` 키로 다음 찾기, `N` 키로 이전 찾기를 계속할 수 있습니다.
> 2.  **전체 교체**: 명령 모드에서 `:%s/apple/orange/g`를 입력하고 Enter를 누르면 파일 전체(`%`)의 모든 행에서 "apple"을 "orange"로 교체(`s`)합니다. 마지막의 `g`는 한 줄에 여러 개의 "apple"이 있을 경우 모두 바꾸라는 의미입니다.

### 🔹 문제 6: `make` 명령어와 `Makefile`
**Q: `make` 명령어는 C 프로그램의 빌드 과정을 자동화하는 데 사용된다. `make` 명령어의 기본 동작 원리를 서술하고, Makefile의 주요 구성 요소(목표, 의존성, 명령어)에 대해 설명하시오.**

> **동작 원리**: `make`는 `Makefile`에 정의된 파일 간의 의존성과 타임스탬프를 비교합니다. 목표(Target) 파일이 의존성(Dependency) 파일보다 오래되었거나 존재하지 않을 경우에만 명시된 명령어(Command)를 실행하여 목표를 갱신합니다. 이를 통해 변경된 부분만 다시 컴파일하여 전체 빌드 시간을 효율적으로 단축합니다.
>
> **주요 구성 요소**:
> - **목표(Target)**: `make`를 통해 최종적으로 생성할 파일 (주로 실행 파일이나 오브젝트 파일).
> - **의존성(Dependencies)**: 목표를 만들기 위해 먼저 필요하거나 참조해야 하는 파일들 (주로 소스 코드나 헤더 파일).
> - **명령어(Commands)**: 의존성 파일들을 가지고 목표 파일을 만들어내기 위해 셸에서 실행할 실제 명령어 (예: `gcc -c main.c`).

### 🔹 문제 7: 하드 링크 vs 심볼릭 링크
**Q: 하드 링크(hard link)와 심볼릭 링크(symbolic link)의 차이점에 대해 설명하시오. 각 링크의 장단점과 이들이 파일 시스템에서 어떻게 동작하는지에 대해서도 서술하시오.**

> - **하드 링크**: 원본 파일과 동일한 inode 번호를 공유하는, 파일 데이터에 대한 또 다른 이름입니다.
>   - **장점**: 원본 파일이 삭제되어도 데이터가 남아있어 링크를 통해 계속 접근할 수 있습니다.
>   - **단점**: 디렉토리에는 생성할 수 없으며, 다른 파일 시스템(파티션)에 있는 파일을 연결할 수 없습니다.
> - **심볼릭 링크(소프트 링크)**: 원본 파일의 경로를 가리키는 포인터와 같은 별도의 파일입니다.
>   - **장점**: 디렉토리나 다른 파일 시스템의 파일에도 자유롭게 링크를 만들 수 있습니다.
>   - **단점**: 원본 파일이 삭제되거나 경로가 바뀌면 링크가 깨져 사용할 수 없게 됩니다.

### 🔹 문제 8: 프로세스와 PCB
**Q: 프로세스(process)의 개념을 설명하시오. 또한, 프로세스가 실행되는 동안 프로세스 제어 블록(PCB)에 포함된 주요 정보들에 대해 서술하시오. 프로세스가 생성될 때와 종료될 때, PCB가 어떻게 변하는지도 함께 설명하시오.**

> **프로세스**: '실행 중인 프로그램'으로, 디스크의 코드가 메모리에 적재되어 OS로부터 자원을 할당받아 생명을 얻은 동적인 개체입니다.
>
> **PCB(Process Control Block) 주요 정보**: 운영체제가 각 프로세스를 관리하기 위한 자료구조로, 다음 정보를 포함합니다.
> - 프로세스 ID (PID), 프로세스 상태 (생성, 준비, 실행, 대기, 종료)
> - 프로그램 카운터(PC), CPU 레지스터 값
> - CPU 스케줄링 정보 (우선순위 등), 메모리 관리 정보 (페이지 테이블 등)
> - 사용 중인 파일 목록 등 입출력 상태 정보
>
> **생성 및 종료 시 변화**: 프로세스 생성 시, 운영체제는 해당 프로세스를 위한 고유한 PCB를 생성하여 메모리에 올리고 프로세스 테이블에 등록합니다. 프로세스가 종료되면, 운영체제는 해당 PCB를 메모리에서 제거하고 관련 자원을 모두 회수합니다.

### 🔹 문제 9: 파일 존재 확인 셸 스크립트
**Q: 사용자가 쉘 스크립트 실행 시 파일 이름을 인자로 전달하면, 해당 파일이 존재하는지 확인한 뒤 조건에 따라 동작하는 스크립트를 작성하시오.**
- 파일이 존재하면: `[파일명] exists` 출력
- 파일이 존재하지 않으면: `[파일명] does not exist` 출력 후 빈 파일 생성

```bash
#!/bin/bash

# 첫 번째 인자가 없으면 사용법 출력 후 종료
if [ -z "$1" ]; then
    echo "사용법: $0 [파일명]"
    exit 1
fi

# -e 옵션으로 파일/디렉토리 존재 여부 확인
if [ -e "$1" ]; then
    echo "$1 exists"
else
    echo "$1 does not exist"
    touch "$1"
fi
```

### 🔹 문제 10: 특정 확장자 파일 개수 세기
**Q: 사용자 홈 디렉토리 내의 `.log` 확장자를 가진 파일들의 개수를 세는 쉘 스크립트를 작성하시오. 결과는 "총 로그 파일 수: N개" 형식으로 출력되어야 한다.**

```bash
#!/bin/bash

# find 명령으로 홈(~)에서 .log 파일을 찾고, wc -l로 줄 수를 세어 개수를 구함
# -maxdepth 1: 홈 디렉토리 바로 아래에서만 찾음 (하위 디렉토리 제외)
# -type f: 일반 파일만 대상으로 함
count=$(find ~ -maxdepth 1 -type f -name "*.log" | wc -l)

echo "총 로그 파일 수: ${count}개"
```

### 🔹 문제 11: C언어 구조체를 이용한 성적 관리 프로그램
**Q: 학생들의 성적을 관리하는 프로그램을 작성하시오. 학생 5명의 정보를 입력받고, 각 학생의 이름과 총점, 평균을 소수점 둘째 자리까지 출력하시오.**

```c
#include <stdio.h>

typedef struct {
    char name[20];
    int korean;
    int english;
    int math;
} Student;

void calculate_scores(Student* s, int* total, float* avg) {
    *total = s->korean + s->english + s->math;
    *avg = (float)(*total) / 3.0f;
}

int main() {
    Student students[5];
    int total;
    float avg;

    printf("학생 5명의 정보를 '이름 국어 영어 수학' 순으로 입력하세요.\n");
    for (int i = 0; i < 5; i++) {
        printf("%d번째 학생: ", i + 1);
        scanf("%s %d %d %d", students[i].name, &students[i].korean, &students[i].english, &students[i].math);
    }

    printf("\n--- 학생 성적 결과 ---\n");
    printf("이름\t총점\t평균\n");
    printf("------------------------\n");

    for (int i = 0; i < 5; i++) {
        calculate_scores(&students[i], &total, &avg);
        printf("%s\t%d\t%.2f\n", students[i].name, total, avg);
    }

    return 0;
}
```

### 🔹 문제 12: 실제 소유자(Real UID) vs 유효 소유자(Effective UID)
**Q: 리눅스 시스템에서 실제 소유자(real owner)와 유효 소유자(effective owner)의 차이에 대해 설명하시오. 이 개념이 파일 시스템의 권한 관리에서 어떻게 활용되는지 구체적인 예를 들어 서술하시오.**

> **차이점**:
> - **실제 소유자(Real User ID)**: 프로세스를 시작시킨 실제 사용자의 ID입니다. 프로세스가 실행되는 동안 일반적으로 변하지 않습니다.
> - **유효 소유자(Effective User ID)**: 프로세스가 파일에 접근할 때 권한을 검사하는 데 사용되는 ID입니다. 일반적으로 실제 소유자와 같지만, `SetUID` 비트가 설정된 파일을 실행하면 일시적으로 파일 소유자의 ID로 변경될 수 있습니다.
>
> **활용 예시 (`passwd` 명령어)**:
> 일반 사용자가 자신의 비밀번호를 변경하려면 `passwd` 명령어를 사용합니다. 이 명령어는 시스템의 비밀번호 정보가 담긴 `/etc/shadow` 파일을 수정해야 하는데, 이 파일은 `root`만 쓰기 권한을 가집니다.
> `passwd` 실행 파일에는 `SetUID` 비트가 설정되어 있어, 일반 사용자가 실행하더라도 프로세스의 **유효 소유자**가 일시적으로 `root`로 변경됩니다. 덕분에 사용자는 `root` 권한을 잠시 빌려 자신의 비밀번호를 안전하게 변경하고, 프로세스가 종료되면 다시 원래 권한으로 돌아오게 됩니다.

### 🔹 문제 13: 인의예지신과 중도
**Q: 인의예지신과 중도에 대해 기술하시오.**

> **인의예지신(仁義禮智信)**: 유교의 핵심적인 다섯 가지 덕목으로, 인간이 마땅히 지켜야 할 도리를 의미합니다.
> - **인(仁)**: 어질고 사랑하는 마음. 타인을 존중하고 배려하는 자세.
> - **의(義)**: 옳고 정의로운 것을 추구하는 마음.
> - **예(禮)**: 사회적 규범과 예의범절을 지키는 것.
> - **지(智)**: 사물의 이치를 깨닫고 옳고 그름을 분별하는 지혜.
> - **신(信)**: 사람 사이의 믿음과 신뢰.
>
> **중도(中道)**: 어느 한쪽으로 치우치지 않는 올바른 길, 또는 극단을 피하는 균형 잡힌 태도를 의미합니다. 불교에서 유래한 개념으로, 쾌락과 고행이라는 양극단을 피하고 조화와 균형을 추구하는 수행의 길을 말하며, 보편적으로는 공정하고 합리적인 태도를 가리키는 말로 쓰입니다.